{
  "type": "object",
  "title": "Acumatica Extractor Configuration",
  "required": [
    "acumatica_url",
    "#acumatica_username",
    "#acumatica_password",
    "company",
    "endpoints"
  ],
  "properties": {
    "acumatica_url": {
      "type": "string",
      "title": "Acumatica URL",
      "description": "Full URL to your Acumatica instance (e.g., https://your-instance.acumatica.com)",
      "format": "uri",
      "propertyOrder": 1
    },
    "#acumatica_username": {
      "type": "string",
      "title": "Username",
      "description": "Acumatica username for authentication",
      "format": "password",
      "propertyOrder": 2
    },
    "#acumatica_password": {
      "type": "string",
      "title": "Password",
      "description": "Acumatica password for authentication",
      "format": "password",
      "propertyOrder": 3
    },
    "company": {
      "type": "string",
      "title": "Company",
      "description": "Company name in Acumatica to connect to",
      "propertyOrder": 4
    },
    "endpoints": {
      "type": "array",
      "title": "Endpoints",
      "description": "List of Acumatica endpoints to extract data from",
      "minItems": 1,
      "propertyOrder": 5,
      "items": {
        "type": "object",
        "title": "Endpoint Configuration",
        "required": [
          "endpoint",
          "version",
          "output_table"
        ],
        "properties": {
          "endpoint": {
            "type": "string",
            "title": "Endpoint Name",
            "description": "Acumatica entity endpoint (e.g., Customer, SalesOrder, Invoice)",
            "propertyOrder": 1
          },
          "version": {
            "type": "string",
            "title": "API Version",
            "description": "Acumatica API version (e.g., 23.200.001)",
            "default": "23.200.001",
            "propertyOrder": 2
          },
          "output_table": {
            "type": "string",
            "title": "Output Table Name",
            "description": "Name of the output table in Keboola Storage",
            "propertyOrder": 3
          },
          "expand": {
            "type": "string",
            "title": "Expand",
            "description": "Related entities to expand (e.g., MainContact, Details)",
            "default": "",
            "propertyOrder": 4
          },
          "filter": {
            "type": "string",
            "title": "Filter",
            "description": "OData filter expression to filter records",
            "default": "",
            "propertyOrder": 5
          },
          "select": {
            "type": "string",
            "title": "Select",
            "description": "OData select expression to choose specific fields",
            "default": "",
            "propertyOrder": 6
          }
        }
      }
    },
    "page_size": {
      "type": "integer",
      "title": "Page Size",
      "description": "Number of records to fetch per API request",
      "default": 2500,
      "minimum": 1,
      "propertyOrder": 6
    },
    "incremental_output": {
      "type": "boolean",
      "title": "Incremental Output",
      "description": "Enable incremental loading mode for output tables",
      "default": false,
      "propertyOrder": 7
    },
    "debug": {
      "type": "boolean",
      "title": "Debug Mode",
      "description": "Enable debug logging for troubleshooting",
      "default": false,
      "propertyOrder": 8
    }
  }
}
